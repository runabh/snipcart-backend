<!DOCTYPE html>
<html>
  <head>
    <title>Snipcart V3</title>
    <link
      rel="stylesheet"
      href="https://cdn.snipcart.com/themes/v3.0.23/default/snipcart.css"
    />
  </head>
  <body>
    <div class="content">
      <button onClick="openCart();">Checkout</button>
      <button id="loginBtn" class="snipcart-customer-signin">My account</button>
      <div>Items in cart : <span class="snipcart-items-count"></span></div>
      <div>Cart Total : <span class="snipcart-total-price"></span></div>
    </div>
    <div>
      <iframe
        src="https://snipcart-testing1.herokuapp.com/iframe"
        id="filecontainer"
      ></iframe>
    </div>

    <div
      hidden
      id="snipcart"
      data-config-add-product-behavior="none"
      data-api-key="NDgyZDYzNTAtZWE2My00ZjBiLWFlNDEtMDVhMGJjYWQxOTMwNjM3Mzk1NjkzNDg1Njg1OTg3"
    ></div>
    <script
      async
      src="https://cdn.snipcart.com/themes/v3.0.23/default/snipcart.js"
    ></script>
    <script>
      function add(val) {
        console.log("parent function called", val);
        Snipcart.api.cart.items.add({
          id: "id" + val,
          name: "Smartphone" + val,
          description: "Smartphone" + val + " added from iframe",
          url: "https://snipcart-testing1.herokuapp.com/abc.json",
          price: "399.00",
        });
      }
      function openCart() {
        Snipcart.api.theme.cart.open();
        // console.log(Snipcart);
        // document.getElementById("loginBtn").click();

        // Snipcart.api.customer
        //   .signin("rahul.das432@gmail.com", "up78dy1574")
        //   .then(() => {
        //     Snipcart.api.theme.cart.open();
        //   })
        //   .catch((err) => {
        //     console.log(err);
        //   });
      }
    </script>
  </body>
</html>
